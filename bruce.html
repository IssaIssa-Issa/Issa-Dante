<!DOCTYPE html>
<html>
  <body>
    <div id="container">
      <form>
        <label for="fname">first name:</label>
        <input type="text" id="fname" name="fname" /><br /><br />
        <label for="lname">last name:</label>
        <input type="text" id="lname" name="lname" /><br /><br />
        <label for="uid">UserID:</label>
        <input type="text" id="uid" name="uid" /><br /><br />
        <label for="birthdate">birthday:</label>
        <input
          type="date"
          id="birthday"
          name="birthday"
          min="1950-01-01"
          max="2021-12-31"
        /><br /><br />
        <input id="accept" type="submit" value="Accept" />
      </form>
      <p id="message"></p>
      <p id="pyramid"></p>
    </div>
    <script>
      document.getElementById('accept').addEventListener('click', e => {
        e.preventDefault()
        console.log('its working')
        handleSubmit()
      })

      let fname = document.getElementById('fname')
      let lname = document.getElementById('lname')
      let uid = document.getElementById('uid')
      let birthday = document.getElementById('birthday')
      let message = document.getElementById('message')
      let pyramid = document.getElementById('pyramid')

      function handleSubmit() {
        isFilled()
        verify(uid)
        dateDiff(birthday)
        makePyramid(20)
      }

      // this is checking if the form is empty
      function isFilled() {
        if (fname.value === '') {
          console.log(fname)
          alert('Please enter your first name ')
          return
        } else if (lname.value === '') {
          alert('Please enter your last name ')
          return
        } else if (uid.value === '') {
          alert('Please enter your UserID  ')
          return
        }
      }

      // This is checking if the uid is good
      function verify(uid) {
        // Checks if the userID is too long or too short
        if (uid.value.length < ðŸ˜Ž {
          alert('UserID is not long enough ')
          return
        }
        // Checks if there is a lowercase letter with regex
        else if (uid.value.search(/[a-z]/) < 0) {
          alert('Your UserId needs a lower case letter')
          return
        }
        // Checks if there is a Upercase letter with regex
        else if (uid.value.search(/[A-Z]/) < 0) {
          alert.log('Your UserId needs an upper case letter')
          return
        }
        // Checks if there is a number with regex
        else if (uid.value.search(/[0-9]/) < 0) {
          alert.log('Your UserId needs a number')
          return
        } else {
          console.log('UserId is good')
        }
      }

      // checking the date and returning the difference
      function dateDiff(dob) {
        // new Date() gets current date
        let today = new Date()
        // converts the string into a date
        dob = new Date(birthday.value)
        // subtracts the days since and rounds down
        diff = Math.floor((today - dob) / (24 * 3600 * 1000))
        if (diff < 365 * 18) {
          alert('Not old enough to take the class')
        } else {
          message.innerHTML = ${fname.value} ${lname.value} you have been breathing for ${diff} days!
        }
      }

      function makePyramid(n) {
        // Each row
        for (let i = 0; i <= n; i++) {
          let string = ''
          for (let j = 0; j < i; j++) {
            string += 'x'
          }
          const newContent = document.createTextNode(string)
          document.getElementById('container').append(newContent)
          const newContent2 = document.createElement('br')
          document.getElementById('container').append(newContent2)
        }
      }
    </script>
  </body>
</html>